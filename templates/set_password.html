{% extends 'base.html' %}

{% block content %}
<div class="container">
    <a href="{{ url_for('menu', admin=1) }}" class="btn btn-secondary mb-4">&lt;- Return to Menu</a>
    
    {% if success %}
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Success!</h4>
            <p>The password has been changed successfully.</p>
        </div>
    {% else %}
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title">Change Password</h5>
            </div>
            <div class="card-body">
                <form method="post">
                    {{ form.csrf_token }}
                    
                    <div class="form-group">
                        <label for="{{ form.name.id }}">{{ form.name.label }}</label>
                        {{ form.name(class="form-control", id=form.name.id) }}
                        {% for message in form.name.errors %}
                            <div class="invalid-feedback">{{ message }}</div>
                        {% endfor %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.password.id }}">{{ form.password.label }}</label>
                        {{ form.password(class="form-control", id=form.password.id) }}
                        {% for message in form.password.errors %}
                            <div class="invalid-feedback">{{ message }}</div>
                        {% endfor %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.password_repeat.id }}">{{ form.password_repeat.label }}</label>
                        {{ form.password_repeat(class="form-control", id=form.password_repeat.id) }}
                        {% for message in form.password_repeat.errors %}
                            <div class="invalid-feedback">{{ message }}</div>
                        {% endfor %}
                    </div>
                    
                    {{ form.submit(class="btn btn-primary") }}
                </form>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}